<ng-container *ngIf="showTopBarAndSideBar; else fullComponent">
    <div style="height: 100vh; overflow: hidden;">
        <mat-toolbar color="primary">
            <mat-toolbar-row>
                <div id="left_topbar">
                    <div class="logo-container">
                        <img src="../assets/images/logo.png" alt="logo" id="logo" height="55px">
                    </div>
                    <h1 id="title">
                        <span class="red-text">KAD</span>
                        <span class="yellow-text">ALA</span>
                        <span class="blue-text">ND</span>
                    </h1>
                    <div id="menu">
                        <button mat-icon-button (click)="sidenav.toggle();">
                            <mat-icon>menu</mat-icon>
                        </button>
                    </div>
                </div>
                <span class="menu-spacer"></span>
                <div id="right_topbar">
                    <div class="profile-container">
                        <img src="../assets/images/luffy_profile.jpg" alt="profile_image" matCardAvatar>
                        <!-- <button mat-icon-button matTooltip="Profil">
                        <mat-icon ma>account_circle</mat-icon>
                    </button> -->
                        <div class="status-dot"></div>
                    </div>
                    <div>
                        <button mat-icon-button matTooltip="Notifications">
                            <mat-icon matBadge="8" matBadgePosition="after"
                                matBadgeColor="accent">notifications</mat-icon>
                        </button>
                    </div>
                    <div>
                        <button mat-icon-button matTooltip="Se Deconnecter" routerLink="/login">
                            <mat-icon>logout</mat-icon>
                        </button>
                    </div>
                </div>
            </mat-toolbar-row>
        </mat-toolbar>

        <mat-sidenav-container [hasBackdrop]="!openedSideNav">
            <mat-sidenav #sidenav style="min-width: 15vw;" [mode]="openedSideNav?'side':'over'"
                [opened]="openedSideNav">
                <mat-card>
                    <mat-card-content [style]="{
                    'background':'url(\'../assets/images/luffy_profile.jpg\') center / cover',
                    'height':'40px',
                    'background-color': '#00000070',
                    'background-blend-mode': 'overlay',
                    'color':'white',
                }" class="img__wrap">
                        <div class="name_profile">
                            <h3>Monkey.D.Luffy</h3>
                        </div>
                        <div class="img__description">
                            <span>Voir le Profile</span>
                        </div>
                    </mat-card-content>
                </mat-card>
                <mat-nav-list>
                    <ng-container *ngFor="let menuItem of menuItems">
                        <mat-list-item [routerLink]="menuItem.link" routerLinkActive="active">
                            <mat-icon matListItemIcon>{{ menuItem.icon }}</mat-icon>
                            <div matListItemTitle>{{ menuItem.title }}</div>
                        </mat-list-item>
                        <mat-divider *ngIf="menuItem.divider"></mat-divider>
                    </ng-container>
                    <!-- <a mat-list-item (click)="sidenav.toggle()" href="" mat-list-item>Close</a> -->

                </mat-nav-list>
            </mat-sidenav>
            <mat-sidenav-content>
                <div style="height: 88vh; overflow-y: scroll;">
                    <router-outlet></router-outlet>
                </div>
                <app-footer></app-footer>
            </mat-sidenav-content>
        </mat-sidenav-container>
    </div>
</ng-container>
<ng-template #fullComponent>
    <router-outlet></router-outlet>
</ng-template>